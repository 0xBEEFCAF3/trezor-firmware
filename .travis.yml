sudo: false
dist: trusty
language: c

addons:
  apt:
    packages:
    - build-essential
    - gcc-multilib
    - gcc-arm-none-eabi
    - libnewlib-arm-none-eabi

install:
    - pip3 install ed25519 pyblake2

script:
  - make vendorheader

  - make build_cross

  - make build_boardloader

  - make build_loader

  - make build_firmware

  - make build_unix TREZOR_NOUI=1

  - make test

notifications:
  webhooks:
    urls:
      - http://sway.gk2.sk:5000/travis
      - http://163.172.132.178:5000/travis
    on_success: always
    on_failure: always
    on_start: always
